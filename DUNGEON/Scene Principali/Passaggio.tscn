[gd_scene load_steps=11 format=2]

[ext_resource path="res://DUNGEON/Meshlib/Arco.meshlib" type="MeshLibrary" id=1]
[ext_resource path="res://DUNGEON/Meshlib/PavimentoNAV.meshlib" type="MeshLibrary" id=2]
[ext_resource path="res://DUNGEON/Meshlib/Muro.meshlib" type="MeshLibrary" id=3]
[ext_resource path="res://DUNGEON/Meshlib/Colonna.meshlib" type="MeshLibrary" id=4]
[ext_resource path="res://DUNGEON/Modular Dungeon/FBX/Metal.material" type="Material" id=5]
[ext_resource path="res://DUNGEON/Modular Dungeon/OBJ/Arch_bars.obj" type="ArrayMesh" id=6]
[ext_resource path="res://DUNGEON/Script/Sbarre.gd" type="Script" id=8]
[ext_resource path="res://Entita/player/player.tscn" type="PackedScene" id=9]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1.33456, 1.79107, 0.360127 )

[sub_resource type="Animation" id=2]
resource_name = "animazioneSbarre"
length = 8.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 3.7, 7 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, -2.56202, -5.98856 ), Vector3( 0, -2.56202, -5.98856 ), Vector3( 0, 2.17069, -5.98856 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("../player:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = false
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 2.8, 5.8, 7.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( -0.055267, 1.32804, 5.61011 ), Vector3( -0.055267, 1.32804, -2.00893 ), Vector3( -0.055267, 1.32804, -2.00893 ), Vector3( -0.055267, 1.32804, -11.4261 ) ]
}

[node name="Passaggio" type="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5.989 )

[node name="Pavimento" type="GridMap" parent="."]
mesh_library = ExtResource( 2 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 2.0
data = {
"cells": PoolIntArray( 0, 0, 0, 4, 0, 0, 7, 0, 0, 65532, 0, 0, 7, 3, 0, 65529, 3, 0, 0, 4, 0, 4, 4, 0, 7, 4, 0, 65529, 4, 0, 65532, 4, 0, 3, 8, 0, 7, 8, 0, 65529, 8, 0, 65531, 8, 0, 65535, 8, 0, 0, 65532, 0, 4, 65532, 0, 7, 65532, 0, 65529, 65532, 0, 65532, 65532, 0, 65529, 65535, 0 )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="Arco" type="GridMap" parent="."]
mesh_library = ExtResource( 1 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 2.0
data = {
"cells": PoolIntArray( 0, 65530, 0 )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="Colonna" type="GridMap" parent="."]
mesh_library = ExtResource( 4 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 2.0
data = {
"cells": PoolIntArray( 6, 65534, 0, 65531, 65534, 655360 )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="Muro" type="GridMap" parent="."]
mesh_library = ExtResource( 3 )
cell_size = Vector3( 1, 1, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 2.0
data = {
"cells": PoolIntArray( 196599, 0, 1441792, 458743, 0, 1441792, 720887, 0, 1441792, 196599, 4, 851968, 458743, 4, 851968, 720887, 4, 1179648, 196599, 8, 1441792, 458743, 8, 458752, 720887, 8, 458752, 131078, 65530, 131072, 131079, 65530, 0, 196601, 65530, 65536, 196602, 65530, 65536, 262138, 65530, 65536, 393222, 65530, 131072, 393223, 65530, 196608, 458745, 65530, 0, 458746, 65530, 131072, 655362, 65530, 131072, 655366, 65530, 196608, 655367, 65530, 196608, 720889, 65530, 131072, 720893, 65530, 131072, 720894, 65530, 131072, 196599, 65532, 1441792, 458743, 65532, 1441792, 720887, 65532, 458752 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( -9, 0, -6 )
}

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -0.0420331, -0.845834, 0.531787, -0.0417428, 0.53328, 0.844909, -0.998244, 0.0133158, -0.0577229, 18.2086, 14.8652, -6.84874 )
shadow_enabled = true

[node name="Sbarre" type="StaticBody" parent="."]
transform = Transform( 1.75428, 0, 0, 0, 1.75428, 0, 0, 0, 1, 0, -2.56202, -5.98856 )
script = ExtResource( 8 )

[node name="CollisionShape" type="CollisionShape" parent="Sbarre"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.32302, 0 )
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Sbarre"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.66108, 0 )
mesh = ExtResource( 6 )
material/0 = ExtResource( 5 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Sbarre"]
anims/animazioneSbarre = SubResource( 2 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 0.732305, 0, 0.680977, 0, 1, 0, -0.680977, 0, 0.732305, 7.06857, 3.20479, 4.94289 )
fov = 37.4335

[node name="player" parent="." instance=ExtResource( 9 )]
pause_mode = 2
transform = Transform( -1, 0, -3.25841e-07, 0, 1, 0, 3.25841e-07, 0, -1, -0.055267, 1.32804, 5.61011 )
[connection signal="animation_finished" from="Sbarre/AnimationPlayer" to="Sbarre" method="_on_AnimationPlayer_animation_finished"]
